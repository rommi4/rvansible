<html><head><meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Conversation with m_bobakov@wargaming.net at Mon 02 Feb 2015 02:51:21 PM MSK on r_verenich@wargaming.net/ (jabber)</title></head><body><h3>Conversation with m_bobakov@wargaming.net at Mon 02 Feb 2015 02:51:21 PM MSK on r_verenich@wargaming.net/ (jabber)</h3>
<font color="#16569E"><font size="2">(02:51:38 PM)</font> <b>Roman Verenich:</b></font> Мстислав, обращались по vm35 ?<br/>
<font color="#16569E"><font size="2">(04:07:33 PM)</font> <b>Roman Verenich:</b></font> Mon 02 Feb 2015 16:06:40.694  by1-dp-vm35 wotqa1p350 32035 BaseApp    1   Script DEBUG    (/home/wotqa1p3501/bw/res/wot/scripts/base/game.py, 662): Waiting for initial game parameters from centerID=351 ...<br/>...<br/>Mon 02 Feb 2015 16:06:45.794  by1-dp-vm35 wotqa1p350 32035 BaseApp    1   Script WARNING  (/home/wotqa1p3501/bw/res/wot/scripts/base/CenterStatusReader.py, 94): Unable to connect. Socket exception. (351, ('10.128.12.58', 35000), 111)<br/><br/>
<font color="#16569E"><font size="2">(04:08:07 PM)</font> <b>Roman Verenich:</b></font> не сталкивался с таким?<br/>
<font color="#16569E"><font size="2">(04:38:23 PM)</font> <b>Roman Verenich:</b></font> center_status_svr - хм, стартую сейчас - нет его<br/>
<font color="#16569E"><font size="2">(04:39:07 PM)</font> <b>Roman Verenich:</b></font> 63500     2572 33.7  2.9 363984 90916 pts/9    Sl   16:37   0:25 python27 /home/wotqac3500/bw/tools/wot/server/game_svr_dyn_updater/game_svr_dyn_updater.py load_glossary<br/>
<font color="#16569E"><font size="2">(04:39:18 PM)</font> <b>Roman Verenich:</b></font> зато dbcbn<br/>
<font color="#16569E"><font size="2">(04:39:22 PM)</font> <b>Roman Verenich:</b></font> висит<br/>
<font color="#A82F2F"><font size="2">(04:42:46 PM)</font> <b>Mstislav Bobakov:</b></font> странно,  наверно тогда проблемы не связаны. У меня все стартует, но периферии всеравно не видят центр. Причем порт слушается<br/>
<font color="#A82F2F"><font size="2">(01:28:57 PM)</font> <b>Mstislav Bobakov:</b></font> <html xmlns='http://jabber.org/protocol/xhtml-im'><body xmlns='http://www.w3.org/1999/xhtml'><p>Глянь , может ты чего придумаешь <a href="https://jira.wargaming.net/browse/WGDP-11348">https://jira.wargaming.net/browse/WGDP-11348</a> </p></body></html><br/>
<font color="#A82F2F"><font size="2">(01:29:11 PM)</font> <b>Mstislav Bobakov:</b></font> код пока не пробывал перезабирать<br/>
<font color="#A82F2F"><font size="2">(01:29:35 PM)</font> <b>Mstislav Bobakov:</b></font> пробовал очишать все *.pyc файлы<br/>
<font color="#A82F2F"><font size="2">(01:29:48 PM)</font> <b>Mstislav Bobakov:</b></font> не помогло<br/>
<font color="#16569E"><font size="2">(01:54:40 PM)</font> <b>Roman Verenich:</b></font> упс, куда-то улетело в ад, только заметил<br/><br/>там ошибки есть в коде<br/>Tue 03 Feb 2015 10:53:06.306  by1-dp-vm29 wowp2918   11527 BaseApp    1   C++    ERROR    [SCRIPT] /home/wowp2918/bw/hammer/res/scripts/server_common/database/_InsertTask.py, 59): action: ins_general_ops, params: {'ins_general_ops': [{'secValueTypeID': 0, 'serviceProviderID': 0, 'typeCompDescr': 664, 'actionSetID': 0, 'dbID': 5005, 'accountAttrs': 7293, 'secValueAmount': 0, 'valueTypeID': 1, 'itemNumber': 1, 'itemTypeIdx': 8, 'opType': 2, 'partnerID': 0, 'version': 3, 'time': 1422866324, 'valueAmount': -200, 'transactionID': 124, 'datetime': datetime.datetime(2015, 2, 2, 8, 38, 44, 50214), 'vehTypeCompDescr': 0}]} <br/><br/>и к чатику коннект<br/>Tue 03 Feb 2015 10:53:24.803  by1-dp-vm29 wowp2918   11527 BaseApp    1   C++    ERROR    [SCRIPT] /home/wowp2918/bw/hammer/res/scripts/base/messenger/XMPPConnection.py, 88): Cannot connect to XMPP server ('by1-jd-vm-01', 62918, 'game-server@admin.wowp2918.loc'): authentication failed <br/>
<font color="#16569E"><font size="2">(01:55:10 PM)</font> <b>Roman Verenich:</b></font> код перезабирать - апдейт или по новой инициализация?<br/>
<font color="#A82F2F"><font size="2">(01:56:33 PM)</font> <b>Mstislav Bobakov:</b></font> о, там вроде рестартовали jd-01 видимо не подняли. я обычно по новой инициализирую так: удаляю bw и потом init-clusteruser<br/>
<font color="#16569E"><font size="2">(12:33:00 PM)</font> <b>Roman Verenich:</b></font> Мстислав, рассматривал Naemon для мониторинга?<br/>
<font color="#A82F2F"><font size="2">(12:33:28 PM)</font> <b>Mstislav Bobakov:</b></font> неа, первый раз слышу. Сейчас посмотрю<br/>
<font color="#16569E"><font size="2">(12:41:19 PM)</font> <b>Roman Verenich:</b></font> а почему shinken сразу отсеяли?<br/>
<font color="#A82F2F"><font size="2">(12:42:34 PM)</font> <b>Mstislav Bobakov:</b></font> Ну не то чтобы его сразу отсеяли, вполне себе кандидат. Просто не очень хотелось использовать форки нагиоса, когда можно обойтись более простым решением. <br/>
<font size="2">(12:42:42 PM)</font><b> Mstislav Bobakov has buzzed you!</b><br/>
<font color="#A82F2F"><font size="2">(12:43:03 PM)</font> <b>Mstislav Bobakov:</b></font> шинкен кстати в разы лучше Naemon<br/>
<font color="#A82F2F"><font size="2">(12:43:51 PM)</font> <b>Mstislav Bobakov:</b></font> Я так понял Naemon - это просто исправленные баги Nagiosа. С ужаснейшим дашбордом<br/>
<font color="#A82F2F"><font size="2">(12:44:16 PM)</font> <b>Mstislav Bobakov:</b></font> <html xmlns='http://jabber.org/protocol/xhtml-im'><body xmlns='http://www.w3.org/1999/xhtml'><p><a href="http://thruk.org/demo.html">http://thruk.org/demo.html</a></p></body></html><br/>
<font color="#16569E"><font size="2">(12:44:24 PM)</font> <b>Roman Verenich:</b></font> угу, тоже тоже так думаю<br/>
<font color="#A82F2F"><font size="2">(12:47:56 PM)</font> <b>Mstislav Bobakov:</b></font> Я шинкен смотрел, но по диагонали потому что Dockerа нет, puppet module ужасен, руками разворачивать не хочется. Мне не совсем нравится то количество компонент, которые он использует для просто проверок + результаты он может писать в ограниченное количество БД. <br/>
<font color="#16569E"><font size="2">(12:49:28 PM)</font> <b>Roman Verenich:</b></font> ну нагиос же<br/>
<font color="#A82F2F"><font size="2">(12:49:32 PM)</font> <b>Mstislav Bobakov:</b></font> <html xmlns='http://jabber.org/protocol/xhtml-im'><body xmlns='http://www.w3.org/1999/xhtml'><p>вообщем решения с такими диаграммами  <a href="http://www.shinken-monitoring.org/wiki/the_shinken_architecture">http://www.shinken-monitoring.org/wiki/the_shinken_architecture</a> мне не подуше</p></body></html><br/>
<font color="#A82F2F"><font size="2">(12:51:19 PM)</font> <b>Mstislav Bobakov:</b></font> а и да, не очень я понял как его маштабировать в случае чего. Там же python и тормозить будет полюбому. Из документации не совсем я это разобрался. Если есть интерес, то можешь глянуть на досуге, расскажешь заодно<br/>
<font color="#A82F2F"><font size="2">(12:54:07 PM)</font> <b>Mstislav Bobakov:</b></font> Еще масло в огонь подлило, то что в разговоре со своим приятелем из Parallels он  сказал, что они буду уходить с shinken. У них там сейчас все на нем. Реально очень-очень крутая штука Rieman, но clojure портит все (<br/>
</body></html>
